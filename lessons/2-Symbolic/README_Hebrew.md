# ייצוג ידע ומערכות מומחה

![סיכום תוכן בינה מלאכותית סמלית](../sketchnotes/ai-symbolic.png)

> רישום חזותי מאת [Tomomi Imura](https://twitter.com/girlie_mac)

השאיפה לבינה מלאכותית מבוססת על חיפוש אחר ידע, כדי להבין את העולם באופן דומה לאופן שבו בני אדם עושים זאת. אבל איך אפשר לגשת לזה?

## [חידון לפני הרצאה](https://ff-quizzes.netlify.app/en/ai/quiz/3)

בימיה הראשונים של הבינה המלאכותית, הגישה של "מלמעלה-למטה" (Top-down) ליצירת מערכות חכמות (שנדונה בשיעור הקודם) הייתה פופולרית. הרעיון היה לחלץ את הידע מבני אדם לצורה כלשהי הקריאה למכונה, ולאחר מכן להשתמש בו כדי לפתור בעיות באופן אוטומטי. גישה זו התבססה על שני רעיונות גדולים:

*   ייצוג ידע
*   הסקת מסקנות (Reasoning)

## ייצוג ידע

אחד המושגים החשובים בבינה מלאכותית סמלית הוא **ידע**. חשוב להבדיל בין ידע לבין *מידע* או *נתונים*. לדוגמה, אפשר לומר שספרים מכילים ידע, כי אפשר ללמוד מספרים ולהפוך למומחה. עם זאת, מה שספרים מכילים נקרא למעשה *נתונים*, ועל ידי קריאת ספרים ושילוב נתונים אלה במודל העולם שלנו, אנו ממירים נתונים אלה לידע.

> ✅ **ידע** הוא משהו שנמצא בראשנו ומייצג את הבנתנו את העולם. הוא נרכש בתהליך **למידה** פעיל, המשלב פיסות מידע שאנו מקבלים לתוך מודל העולם הפעיל שלנו.

לרוב, איננו מגדירים ידע באופן מחמיר, אך אנו מיישרים אותו קו עם מושגים קשורים אחרים באמצעות [פירמידת DIKW](https://en.wikipedia.org/wiki/DIKW_pyramid). היא מכילה את המושגים הבאים:

*   **נתונים** הם משהו המיוצג במדיה פיזית, כגון טקסט כתוב או מילים מדוברות. נתונים קיימים באופן בלתי תלוי בבני אדם וניתן להעבירם בין אנשים.
*   **מידע** הוא האופן שבו אנו מפרשים נתונים בראשנו. לדוגמה, כאשר אנו שומעים את המילה *מחשב*, יש לנו הבנה כלשהי לגבי מה זה.
*   **ידע** הוא מידע המשולב במודל העולם שלנו. לדוגמה, לאחר שלמדנו מהו מחשב, אנו מתחילים לפתח רעיונות לגבי אופן פעולתו, כמה הוא עולה, ולמה הוא יכול לשמש. רשת זו של מושגים קשורים זה בזה מהווה את הידע שלנו.
*   **חוכמה** היא רמה נוספת של הבנתנו את העולם, והיא מייצגת *מטא-ידע*, כלומר, תפיסה כלשהי לגבי איך ומתי יש להשתמש בידע.

<img src="images/DIKW_Pyramid.png" width="30%"/>

*תמונה [מויקיפדיה](https://commons.wikimedia.org/w/index.php?curid=37705247), מאת Longlivetheux - עבודה עצמית, CC BY-SA 4.0*

לפיכך, הבעיה של **ייצוג ידע** היא למצוא דרך יעילה לייצג ידע בתוך מחשב בצורת נתונים, כדי להפוך אותו לשמיש באופן אוטומטי. ניתן לראות זאת כספקטרום:

![ספקטרום ייצוג הידע](images/knowledge-spectrum.png)

> תמונה מאת [Dmitry Soshnikov](http://soshnikov.com)

*   בצד שמאל, ישנם סוגים פשוטים מאוד של ייצוגי ידע שניתן להשתמש בהם ביעילות על ידי מחשבים. הפשוט ביותר הוא ייצוג אלגוריתמי, כאשר הידע מיוצג על ידי תוכנית מחשב. עם זאת, זו אינה הדרך הטובה ביותר לייצג ידע, מכיוון שהיא אינה גמישה. ידע בראשנו הוא לעתים קרובות לא-אלגוריתמי.
*   בצד ימין, ישנם ייצוגים כגון טקסט טבעי. זהו הייצוג החזק ביותר, אך לא ניתן להשתמש בו להסקת מסקנות אוטומטית.

> ✅ חשבו לרגע כיצד אתם מייצגים ידע בראשכם וממירים אותו לרשימות. האם יש פורמט מסוים שעובד היטב עבורכם כדי לסייע בשימור המידע?

## סיווג ייצוגי ידע ממוחשבים

אנו יכולים לסווג שיטות שונות לייצוג ידע ממוחשב לקטגוריות הבאות:

*   **ייצוגי רשת** מבוססים על העובדה שיש לנו רשת של מושגים קשורים בראשנו. אנו יכולים לנסות לשחזר את אותן רשתות כגרף בתוך מחשב - מה שנקרא **רשת סמנטית**.

1.  **שלשות אובייקט-תכונה-ערך** או **זוגות תכונה-ערך**. מאחר שניתן לייצג גרף במחשב כרשימה של צמתים וקשתות, אנו יכולים לייצג רשת סמנטית על ידי רשימת שלשות, המכילה אובייקטים, תכונות וערכים. לדוגמה, אנו בונים את השלשות הבאות על שפות תכנות:

    אובייקט | תכונה | ערך
    -------|-----------|------
    Python | היא | שפה-ללא-טיפוסים
    Python | הומצאה-על-ידי | Guido van Rossum
    Python | תחביר-בלוק | הזחה
    שפה-ללא-טיפוסים | אין-לה | הגדרות-טיפוס

    > ✅ חשבו כיצד ניתן להשתמש בשלשות לייצוג סוגים אחרים של ידע.

2.  **ייצוגים היררכיים** מדגישים את העובדה שאנו יוצרים לעתים קרובות היררכיה של אובייקטים בראשנו. לדוגמה, אנו יודעים שקנרית היא ציפור, ולכל הציפורים יש כנפיים. יש לנו גם מושג כלשהו לגבי הצבע הרגיל של קנרית, ומהי מהירות התעופה שלה.

    *   **ייצוג מסגרות (Frame)** מבוסס על ייצוג כל אובייקט או מחלקת אובייקטים כ**מסגרת** המכילה **חריצים (Slots)**. לחריצים יכולים להיות ערכי ברירת מחדל, הגבלות ערכים, או פרוצדורות שמורות שניתן לקרוא להן כדי לקבל את ערך החריץ. כל המסגרות יוצרות היררכיה הדומה להיררכיית אובייקטים בשפות תכנות מונחות-עצמים.
    *   **תרחישים (Scenarios)** הם סוג מיוחד של מסגרות המייצגות מצבים מורכבים שיכולים להתפתח בזמן.

    **Python**

    חריץ | ערך | ערך ברירת מחדל | טווח |
    -----|-------|---------------|----------|
    שם | Python | | |
    הוא-סוג-של | שפה-ללא-טיפוסים | | |
    כתיב משתנים | | CamelCase | |
    אורך תכנית | | | 5-5000 שורות |
    תחביר בלוק | הזחה | | |

3.  **ייצוגים פרוצדורליים** מבוססים על ייצוג ידע באמצעות רשימת פעולות שניתן לבצע כאשר מתקיים תנאי מסוים.
    *   כללי הפקה (Production rules) הם משפטי "אם-אז" המאפשרים לנו להסיק מסקנות. לדוגמה, לרופא יכול להיות כלל האומר ש**אם** למטופל יש חום גבוה **או** רמה גבוהה של חלבון C-ריאקטיבי בבדיקת דם **אז** יש לו דלקת. ברגע שאנו נתקלים באחד התנאים, אנו יכולים להסיק מסקנה לגבי דלקת, ולאחר מכן להשתמש בה להמשך הסקת מסקנות.
    *   אלגוריתמים יכולים להיחשב צורה נוספת של ייצוג פרוצדורלי, אם כי כמעט אף פעם לא משתמשים בהם ישירות במערכות מבוססות-ידע.

4.  **לוגיקה** הוצעה במקור על ידי אריסטו כדרך לייצג ידע אנושי אוניברסלי.
    *   לוגיקת פרדיקטים כתאוריה מתמטית עשירה מדי מכדי להיות ניתנת לחישוב, ולכן משתמשים בדרך כלל בתת-קבוצה שלה, כגון פסוקיות הורן (Horn clauses) המשמשות ב-Prolog.
    *   לוגיקה תיאורית (Descriptive Logic) היא משפחה של מערכות לוגיות המשמשות לייצוג והסקת מסקנות לגבי היררכיות של אובייקטים בייצוגי ידע מבוזרים כגון *האינטרנט הסמנטי*.

## מערכות מומחה

אחת ההצלחות המוקדמות של בינה מלאכותית סמלית היו מה שנקרא **מערכות מומחה** - מערכות מחשב שתוכננו לפעול כמומחה בתחום בעיות מוגבל. הן התבססו על **בסיס ידע** שנחלט ממומחה אנושי אחד או יותר, והכילו **מנוע הסקה** שביצע הסקת מסקנות כלשהי על בסיסו.

![ארכיטקטורה אנושית](images/arch-human.png) | ![מערכת מבוססת-ידע](images/arch-kbs.png)
---------------------------------------------|------------------------------------------------
מבנה מפושט של מערכת עצבית אנושית | ארכיטקטורה של מערכת מבוססת-ידע

מערכות מומחה בנויות בדומה למערכת הסקת המסקנות האנושית, המכילה **זיכרון לטווח קצר** ו**זיכרון לטווח ארוך**. באופן דומה, במערכות מבוססות-ידע אנו מבחינים במרכיבים הבאים:

*   **זיכרון הבעיה**: מכיל את הידע על הבעיה הנפתרת כעת, כלומר, הטמפרטורה או לחץ הדם של המטופל, האם יש לו דלקת או לא, וכו'. ידע זה נקרא גם **ידע סטטי**, מכיוון שהוא מכיל תמונת מצב של מה שאנו יודעים כעת על הבעיה - מה שנקרא *מצב הבעיה*.
*   **בסיס הידע**: מייצג ידע לטווח ארוך על תחום הבעיה. הוא נחלט ידנית ממומחים אנושיים, ואינו משתנה מייעוץ לייעוץ. מכיוון שהוא מאפשר לנו לנווט ממצב בעיה אחד למשנהו, הוא נקרא גם **ידע דינמי**.
*   **מנוע הסקה**: מנהל את כל תהליך החיפוש במרחב מצבי הבעיה, ושואל שאלות מהמשתמש בעת הצורך. הוא גם אחראי למציאת הכללים הנכונים ליישום בכל מצב.

לדוגמה, בואו נבחן את מערכת המומחה הבאה לקביעת בעל חיים על סמך מאפייניו הפיזיים:

![עץ וגם/או](images/AND-OR-Tree.png)

> תמונה מאת [Dmitry Soshnikov](http://soshnikov.com)

דיאגרמה זו נקראת **עץ וגם/או (AND-OR tree)**, והיא ייצוג גרפי של סט כללי הפקה. ציור עץ שימושי בתחילת תהליך חליצת הידע מהמומחה. כדי לייצג את הידע בתוך המחשב, נוח יותר להשתמש בכללים:
אם החיה אוכלת בשר
או (לחיה יש שיניים חדות
וגם לחיה יש טפרים
וגם לחיה יש עיניים הפונות קדימה
)
אז החיה היא טורפת

ניתן לשים לב שכל תנאי בצד שמאל של הכלל והפעולה הם למעשה שלשות אובייקט-תכונה-ערך (OAV). **זיכרון העבודה** מכיל את סט שלשות ה-OAV המתאימות לבעיה הנפתרת כעת. **מנוע כללים** מחפש כללים שהתנאי שלהם מתקיים ומיישם אותם, ומוסיף פיסת ידע חדשה לזיכרון העבודה.

> ✅ כתבו עץ וגם/או משלכם על נושא שאתם אוהבים!

### הסקה קדימה לעומת הסקה אחורה

התהליך שתואר לעיל נקרא **הסקה קדימה (forward inference)**. הוא מתחיל עם נתונים ראשוניים על הבעיה הזמינים בזיכרון העבודה, ואז מבצע את לולאת ההסקה הבאה:

1.  אם תכונת המטרה נמצאת בזיכרון העבודה - עצור והצג את התוצאה.
2.  מצא את כל הכללים שהתנאי שלהם מתקיים כעת - קבל **קבוצת התנגשות (conflict set)** של כללים.
3.  בצע **פתרון התנגשויות (conflict resolution)** - בחר כלל אחד שיבוצע בשלב זה. יכולות להיות אסטרטגיות שונות לפתרון התנגשויות:
    *   בחר את הכלל הישים הראשון בבסיס הידע.
    *   בחר כלל אקראי.
    *   בחר כלל *ספציפי יותר*, כלומר, כזה שעונה על הכי הרבה תנאים ב"צד שמאל" (LHS).
4.  החל את הכלל שנבחר והכנס פיסת ידע חדשה למצב הבעיה.
5.  חזור על התהליך משלב 1.

עם זאת, במקרים מסוימים אנו עשויים לרצות להתחיל עם ידע ריק על הבעיה, ולשאול שאלות שיעזרו לנו להגיע למסקנה. לדוגמה, בעת אבחון רפואי, בדרך כלל איננו מבצעים את כל הבדיקות הרפואיות מראש לפני תחילת אבחון המטופל. אנו מעדיפים לבצע בדיקות כאשר יש צורך לקבל החלטה.

תהליך זה יכול להיות מודל באמצעות **הסקה אחורה (backward inference)**. הוא מונע על ידי **המטרה** - ערך התכונה שאנו מחפשים למצוא:

1.  בחר את כל הכללים שיכולים לתת לנו את ערך המטרה (כלומר, עם המטרה בצד ימין - RHS) - קבוצת התנגשות.
2.  אם אין כללים לתכונה זו, או שיש כלל שאומר שעלינו לבקש את הערך מהמשתמש - בקש אותו, אחרת:
3.  השתמש באסטרטגיית פתרון התנגשויות כדי לבחור כלל אחד שנשתמש בו כ*השערה* - ננסה להוכיח אותו.
4.  חזור באופן רקורסיבי על התהליך עבור כל התכונות בצד שמאל (LHS) של הכלל, בניסיון להוכיח אותן כמטרות.
5.  אם בשלב כלשהו התהליך נכשל - השתמש בכלל אחר בשלב 3.

> ✅ באילו מצבים הסקה קדימה מתאימה יותר? ומה לגבי הסקה אחורה?

### יישום מערכות מומחה

ניתן ליישם מערכות מומחה באמצעות כלים שונים:

*   תכנות ישיר שלהן בשפת תכנות עילית כלשהי. זה לא הרעיון הטוב ביותר, מכיוון שהיתרון העיקרי של מערכת מבוססת-ידע הוא שהידע מופרד מההסקה, ופוטנציאלית מומחה בתחום הבעיה אמור להיות מסוגל לכתוב כללים מבלי להבין את פרטי תהליך ההסקה.
*   שימוש ב**מעטפת מערכת מומחה (expert systems shell)**, כלומר, מערכת שתוכננה במיוחד למילוי ידע באמצעות שפת ייצוג ידע כלשהי.

## ✍️ תרגיל: הסקת בעלי חיים

עיינו ב-[Animals.ipynb](https://github.com/microsoft/AI-For-Beginners/blob/main/lessons/2-Symbolic/Animals.ipynb) לדוגמה של יישום מערכת מומחה עם הסקה קדימה ואחורה.

> **הערה**: דוגמה זו פשוטה למדי, ורק נותנת מושג כיצד נראית מערכת מומחה. ברגע שתתחילו ליצור מערכת כזו, תבחינו בהתנהגות *אינטליגנטית* כלשהי ממנה רק כשתגיעו למספר מסוים של כללים, בסביבות 200+. בשלב מסוים, הכללים הופכים למורכבים מדי מכדי לזכור את כולם, ובנקודה זו אתם עשויים להתחיל לתהות מדוע מערכת מקבלת החלטות מסוימות. עם זאת, המאפיין החשוב של מערכות מבוססות-ידע הוא שתמיד ניתן *להסביר* בדיוק כיצד כל אחת מההחלטות התקבלה.

## אונטולוגיות והאינטרנט הסמנטי

בסוף המאה ה-20 הייתה יוזמה להשתמש בייצוג ידע כדי להוסיף הערות למשאבי אינטרנט, כך שניתן יהיה למצוא משאבים התואמים לשאילתות ספציפיות מאוד. תנועה זו נקראה **האינטרנט הסמנטי (Semantic Web)**, והיא הסתמכה על מספר מושגים:

-   ייצוג ידע מיוחד המבוסס על **[לוגיקה תיאורית](https://en.wikipedia.org/wiki/Description_logic)** (DL). הוא דומה לייצוג ידע במסגרות, מכיוון שהוא בונה היררכיה של אובייקטים עם תכונות, אך יש לו סמנטיקה לוגית פורמלית והסקה. ישנה משפחה שלמה של DL-ים המאזנים בין כוח הבעה לבין סיבוכיות אלגוריתמית של הסקה.
-   ייצוג ידע מבוזר, שבו כל המושגים מיוצגים על ידי מזהה URI גלובלי, המאפשר יצירת היררכיות ידע המשתרעות על פני האינטרנט.
-   משפחה של שפות מבוססות-XML לתיאור ידע: RDF (מסגרת תיאור משאבים), RDFS (סכמת RDF), OWL (שפת אונטולוגיית האינטרנט).

מושג ליבה באינטרנט הסמנטי הוא **אונטולוגיה**. הכוונה היא למפרט מפורש של תחום בעיה באמצעות ייצוג ידע פורמלי כלשהו. האונטולוגיה הפשוטה ביותר יכולה להיות רק היררכיה של אובייקטים בתחום הבעיה, אך אונטולוגיות מורכבות יותר יכללו כללים שניתן להשתמש בהם להסקה.

באינטרנט הסמנטי, כל הייצוגים מבוססים על שלשות. כל אובייקט וכל יחס מזוהים באופן ייחודי על ידי URI. לדוגמה, אם אנו רוצים לציין את העובדה שתכנית לימודים זו של AI פותחה על ידי דמיטרי סושניקוב ב-1 בינואר 2022 - הנה השלשות שבהן נוכל להשתמש:

<img src="images/triplet.png" width="30%"/>
http://github.com/microsoft/ai-for-beginners http://www.example.com/terms/creation-date “Jan 13, 2007”
http://github.com/microsoft/ai-for-beginners http://purl.org/dc/elements/1.1/creator http://soshnikov.com

> ✅ כאן `http://www.example.com/terms/creation-date` ו-`http://purl.org/dc/elements/1.1/creator` הם URI-ים ידועים ומקובלים אוניברסלית לביטוי המושגים של *יוצר* ו*תאריך יצירה*.

במקרה מורכב יותר, אם נרצה להגדיר רשימה של יוצרים, נוכל להשתמש במבני נתונים מסוימים המוגדרים ב-RDF.

<img src="images/triplet-complex.png" width="40%"/>

> דיאגרמות למעלה מאת [Dmitry Soshnikov](http://soshnikov.com)

ההתקדמות בבניית האינטרנט הסמנטי הואטה במידת מה על ידי הצלחתם של מנועי חיפוש וטכניקות עיבוד שפה טבעית, המאפשרות חילוץ נתונים מובנים מטקסט. עם זאת, בתחומים מסוימים עדיין קיימים מאמצים משמעותיים לתחזוק אונטולוגיות ובסיסי ידע. מספר פרויקטים שכדאי לציין:

*   [WikiData](https://wikidata.org/) הוא אוסף של בסיסי ידע קריאי-מכונה הקשורים לוויקיפדיה. רוב הנתונים נכרים מ*תיבות מידע* בוויקיפדיה, קטעי תוכן מובנה בתוך דפי ויקיפדיה. ניתן [לתשאל](https://query.wikidata.org/) את Wikidata ב-SPARQL, שפת שאילתות מיוחדת לאינטרנט הסמנטי. הנה שאילתה לדוגמה המציגה את צבעי העיניים הפופולריים ביותר בקרב בני אדם:

#defaultView:BubbleChart
SELECT ?eyeColorLabel (COUNT(?human) AS ?count)
WHERE
{
?human wdt:P31 wd:Q5. # human instance-of homo sapiens
?human wdt:P1340 ?eyeColor. # human eye-color ?eyeColor
SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}
GROUP BY ?eyeColorLabel

*   [DBpedia](https://www.dbpedia.org/) הוא מאמץ נוסף הדומה ל-WikiData.

> ✅ אם אתם רוצים להתנסות בבניית אונטולוגיות משלכם, או בפתיחת קיימות, ישנו עורך אונטולוגיות חזותי נהדר בשם [Protégé](https://protege.stanford.edu/). הורידו אותו, או השתמשו בו באופן מקוון.

<img src="images/protege.png" width="70%"/>

*עורך Web Protégé פתוח עם אונטולוגיית משפחת רומנוב. צילום מסך מאת דמיטרי סושניקוב*

## ✍️ תרגיל: אונטולוגיית משפחה

עיינו ב-[FamilyOntology.ipynb](https://github.com/Ezana135/AI-For-Beginners/blob/main/lessons/2-Symbolic/FamilyOntology.ipynb) לדוגמה של שימוש בטכניקות האינטרנט הסמנטי להסקת מסקנות על קשרי משפחה. ניקח עץ משפחה המיוצג בפורמט GEDCOM נפוץ ואונטולוגיה של קשרי משפחה ונבנה גרף של כל קשרי המשפחה עבור קבוצה נתונה של פרטים.

## גרף המושגים של מיקרוסופט

ברוב המקרים, אונטולוגיות נוצרות בקפידה באופן ידני. עם זאת, ניתן גם **לכרות** אונטולוגיות מנתונים לא מובנים, למשל, מטקסטים בשפה טבעית.

ניסיון כזה נעשה על ידי Microsoft Research, והביא ל-[גרף המושגים של מיקרוסופט (Microsoft Concept Graph)](https://blogs.microsoft.com/ai/microsoft-researchers-release-graph-that-helps-machines-conceptualize/?WT.mc_id=academic-77998-cacaste).

זהו אוסף גדול של ישויות המקובצות יחד באמצעות יחס התורשה `is-a` (הוא-סוג-של). הוא מאפשר לענות על שאלות כמו "מהי מיקרוסופט?" - התשובה היא משהו כמו "חברה בהסתברות של 0.87, ומותג בהסתברות של 0.75".

הגרף זמין כ-API של REST, או כקובץ טקסט גדול להורדה המפרט את כל זוגות הישויות.

## ✍️ תרגיל: גרף מושגים

נסו את מחברת [MSConceptGraph.ipynb](https://github.com/microsoft/AI-For-Beginners/blob/main/lessons/2-Symbolic/MSConceptGraph.ipynb) כדי לראות כיצד אנו יכולים להשתמש בגרף המושגים של מיקרוסופט כדי לקבץ כתבות חדשותיות למספר קטגוריות.

## מסקנה

כיום, AI נחשבת לעתים קרובות כמילה נרדפת ל*למידת מכונה* או *רשתות עצביות*. עם זאת, בן אנוש מפגין גם הסקת מסקנות מפורשת, דבר שאינו מטופל כיום על ידי רשתות עצביות. בפרויקטים בעולם האמיתי, עדיין משתמשים בהסקת מסקנות מפורשת לביצוע משימות הדורשות הסברים, או יכולת לשנות את התנהגות המערכת באופן מבוקר.

## 🚀 אתגר

במחברת אונטולוגיית המשפחה המשויכת לשיעור זה, יש הזדמנות להתנסות עם קשרי משפחה אחרים. נסו לגלות קשרים חדשים בין אנשים בעץ המשפחה.

## [חידון אחרי הרצאה](https://ff-quizzes.netlify.app/en/ai/quiz/4)

## סקירה ולימוד עצמי

סקרו את ההיסטוריה של AI ו-ML על ידי קריאת [שיעור זה](https://github.com/microsoft/ML-For-Beginners/tree/main/1-Introduction/2-history-of-ML). קחו אלמנט מהרישום החזותי שבתחילת אותו שיעור או שיעור זה וחִקרו אותו לעומק כדי להבין את ההקשר התרבותי שהשפיע על התפתחותו. חקרו את עבודתו של ליניאוס ליצירת טקסונומיה של אורגניזמים, וצפו בדרך שבה דמיטרי מנדלייב יצר דרך לתיאור וקיבוץ יסודות כימיים. אילו דוגמאות מעניינות נוספות אתם יכולים למצוא?

**מטלה**: [בניית אונטולוגיה](assignment.md)




